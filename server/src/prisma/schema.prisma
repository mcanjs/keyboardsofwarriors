// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mongodb"
  url      = "mongodb+srv://mehmetcankizilyer:luPctBuSZy5VxtpH@cluster0.1ffdtl3.mongodb.net/test"
}

generator client {
  provider = "prisma-client-js"
}

model Matches {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  users       String[]
  winnerId    String
  loserId     String
  winnerPoint BigInt
  loserPoint  BigInt
  matchDate   DateTime @default(now())
  matchLog    Json?
}

model Admin {
  id      String  @id @default(auto()) @map("_id") @db.ObjectId
  isAdmin Boolean @default(false)
  User    User[]
}

model Premium {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  isPremium Boolean @default(false)
  User      User[]
}

model User {
  id                 String    @id @default(auto()) @map("_id") @db.ObjectId
  email              String    @unique
  username           String    @unique
  win                Int       @default(0)
  lose               Int       @default(0)
  rank               Int       @default(0)
  password           String
  queueBan           String    @default("")
  premium            Premium   @relation(fields: [premiumId], references: [id])
  premiumId          String    @db.ObjectId
  admin              Admin     @relation(fields: [adminId], references: [id])
  adminId            String    @db.ObjectId
  banned             DateTime  @default(now())
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  provider           String?
  verificationCode   String?   @unique
  passwordResetToken String?   @unique
  passwordResetAt    DateTime?
  isVerified         Boolean   @default(false)
}
